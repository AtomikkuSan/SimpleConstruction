@PART[*ISRU*,Smelter*]:NEEDS[LaunchPad,SimpleConstruction]:FOR[SimpleConstruction]
{
	+MODULE[ModuleResourceConverter]:HAS[#ConverterName[Mono*]]
	{
		@ConverterName = Metal
		@StartActionName = Start Metal Refining
		@StopActionName = Stop Metal Refining
		@INPUT_RESOURCE:HAS[#ResourceName[ElectricCharge]]
		{
			@Ratio *= 2
		}
		@OUTPUT_RESOURCE:HAS[#ResourceName[MonoPropellant]]
		{
			@ResourceName = Metal
			@Ratio /= 4
			FlowMode = STAGE_PRIORITY_FLOW
		}
	}

	+MODULE[ModuleResourceConverter]:HAS[#ConverterName[Mono*]]:NEEDS[Karbonite,SimpleConstruction]
	{
		@ConverterName = Karbonite
		@StartActionName = Start Metal Karbonite Refining
		@StopActionName = Stop Metal Karbonite Refining
		@INPUT_RESOURCE
		{
			@ResourceName = Karbonite
			@Ratio *= 2
		}
		@INPUT_RESOURCE:HAS[#ResourceName[ElectricCharge]]
		{
			@Ratio *= 2
		}
		@OUTPUT_RESOURCE:HAS[#ResourceName[MonoPropellant]]
		{
			@ResourceName = Metal
			@Ratio /= 4
			FlowMode = STAGE_PRIORITY_FLOW
		}
	}

	@RESOURCE[Karbonite]:NEEDS[Karbonite]
	{
		&amount = 0
		&maxAmount = 5
	}

	@RESOURCE[MonoPropellant]
	{
		&amount = 0
		&maxAmount = 5
	}

	@RESOURCE[Metal]
	{
		&amount = 0
		&maxAmount = 5
	}

	@RESOURCE[Ore]
	{
		&amount = 0
		&maxAmount = 10
	}
}
